{"version":3,"sources":["uni-app:///main.js","webpack:///D:/work/newChongDian/pages/chognzhi/chognzhi.vue?dfdc","webpack:///D:/work/newChongDian/pages/chognzhi/chognzhi.vue?7a9e","webpack:///D:/work/newChongDian/pages/chognzhi/chognzhi.vue?754d","webpack:///D:/work/newChongDian/pages/chognzhi/chognzhi.vue?0b6c","uni-app:///pages/chognzhi/chognzhi.vue","webpack:///D:/work/newChongDian/pages/chognzhi/chognzhi.vue?d9bc","webpack:///D:/work/newChongDian/pages/chognzhi/chognzhi.vue?fcde"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","toDecimal2","type","accountAmount","cardAmount","giftAmount","name","totalAmount","cardNo","openId","userData","isBack","rechargeParameters","quantity","clickIndex","list","id","number","preferential","onLoad","console","onShow","methods","refund","uni","title","content","success","message","duration","icon","doAppLogin","code","that","fail","getUserInfos","showPromotionInfo","getUserQueryAccountBalances","rechargeRecordSaves","provider","timeStamp","nonceStr","package","signType","paySign","delta","cz","str"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,iBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;AACc;;;AAGrE;AACkM;AAClM,gBAAgB,4MAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,iPAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClDA;AAAA;AAAA;AAAA;AAAgwB,CAAgB,6wBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACgEpxB;AACA;AACA;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;EACAC;IACA;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;QACAC;QACAL;QACAC;MACA;MACAK;MACAC,OACA;QACAC;QACAV;QACAW;MACA,GACA;QACAD;QACAV;QACAW;MACA,GACA;QACAD;QACAV;QACAW;MACA,GACA;QACAD;QACAV;QACAW;MACA,GACA;QACAD;QACAV;QACAW;MACA,GACA;QACAD;QACAV;QACAW;MACA,EACA;MACAC;IACA;EACA;EACAC;IACAC;IACA;MACA;IACA;IACA;MACA;IACA;IACA;IACA;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MAAA;MACAC;QACAC;QACAC;QACAC;UACA;YACA;cAAAlB;YAAA;cACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;kBACAP;kBACA0B;kBACAC;gBACA;gBACA;cACA;gBACAL;kBACAC;kBACAK;gBACA;cACA;YACA;UACA,wBACA;QACA;MACA;IACA;IACAC;MACA;MACAP;QACA;QACA;QAAA;QACAG;UACA;UACA;UACA;UACA;YAAAK;UAAA;YACAC;YACAT;YACAA;YACAS;UACA;QACA;QACAC,0BACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACA;MACA;MACA;QAAA1B;MAAA;QACA;UACAe;UACA;QACA;MACA;IACA;IACA;AACA;AACA;IACAY;MAAA;MACA;QACA;QACA;QACA;MACA;QACA;QACA;QACA;UAAA7B;UAAAE;QAAA;UACA;YACA;UACA;YACAe;cACAC;cACAK;YACA;UACA;QACA;MACA;IAEA;IACA;IACAO;MAAA;MACA;QAAA5B;MAAA;QACA;UACA;QACA;UACAe;YACAC;YACAK;UACA;QACA;MACA;IACA;IACA;IACAQ;MAAA;MACA;QACA;UACAd;UACA;YAAAR;UAAA;YACA;cACA;cACAQ;gBACAe;gBAAA;gBACAC;gBAAA;gBACAC;gBAAA;gBACAC;gBAAA;gBACAC;gBAAA;gBACAC;gBAAA;gBAEAjB;kBACA;kBACA;kBACA;kBACA;kBACAM;oBACA/B;oBACA0B;oBACAC;kBACA;kBACA;oBACAL;sBACAqB;oBACA;kBACA;oBACAZ;kBACA;kBACA;gBACA;gBAEAC;kBACA;kBACA;kBACA;kBACA;;kBAEA;oBACAhC;oBACA0B;oBACAC;kBACA;kBACAI;gBACA;cACA;YAEA;cACAT;gBACAC;gBACAK;cACA;YACA;UACA;QACA;UACAN;YACAC;YACAK;UACA;QACA;MACA;IACA;IACAgB;MAAA;MACA;QACAtB;UACAM;UACAL;QACA;QACA;MACA;MACA;QACA;MACA;MACA;QACAD;UACAM;UACAL;QACA;QACA;MACA;MACA;MACA;QACAsB;MACA;MAEAvB;QACAC;QACAC;QACAC;UACA;YACAH;cACAC;YACA;YACA;UACA,wBACA;QACA;MACA;IAEA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC3VA;AAAA;AAAA;AAAA;AAAu6C,CAAgB,w3CAAG,EAAC,C;;;;;;;;;;;ACA37C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/chognzhi/chognzhi.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/chognzhi/chognzhi.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./chognzhi.vue?vue&type=template&id=6c17a9c6&\"\nvar renderjs\nimport script from \"./chognzhi.vue?vue&type=script&lang=js&\"\nexport * from \"./chognzhi.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chognzhi.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/chognzhi/chognzhi.vue\"\nexport default component.exports","export * from \"-!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chognzhi.vue?vue&type=template&id=6c17a9c6&\"","var components\ntry {\n  components = {\n    uToast: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-toast/u-toast\" */ \"@/uni_modules/uview-ui/components/u-toast/u-toast.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.toDecimal2(_vm.accountAmount)\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.type = 1\n    }\n    _vm.e1 = function ($event) {\n      _vm.type = 2\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chognzhi.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chognzhi.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"main\">\r\n\t\t<view class=\"tab\">\r\n\t\t\t<view class=\"item\" v-bind:class=\"type == 1 ? 'avtive' : ''\" v-on:click=\"type = 1\">余额充值</view>\r\n\t\t\t<view class=\"item\" v-bind:class=\"type == 2 ? 'avtive' : ''\" v-on:click=\"type = 2\">卡充值</view>\r\n\t\t\t<view class=\"tab_line\" :style=\"{ '--active-tab': type == 1 ? '0' : '100%' }\">\r\n\t\t\t\t<view></view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"con-ctx\">\r\n\t\t\t<view class=\"invest-box\" v-show=\"type == 1\">\r\n\t\t\t\t<view class=\"image\">\r\n\t\t\t\t\t<image src=\"../../static/img/bg-2.png\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"residue-title\">当前帐户余额( 元 )</view>\r\n\t\t\t\t<view class=\"residue-res\">{{ toDecimal2(accountAmount) }}\r\n\t\t\t\t\t<text class=\"refund\" @click=\"refund()\">退款></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"top_up_cards\" v-show=\"type == 2\" style=\"padding-top: 25px;\">\r\n\t\t\t\t<view class=\"title-box\">\r\n\r\n\t\t\t\t\t<view style=\"margin-left: 4px;font-size: 12px;color: #000;\">充值卡号</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<input class=\"input\" type=\"number\" placeholder=\"请输入充值卡号\" maxlength=\"16\"\r\n\t\t\t\t\t\tv-model=\"rechargeParameters.cardNo\" />\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"box-2\">\r\n\t\t\t\t<view class=\"title-box\">\r\n\t\t\t\t\t<view style=\"margin-left: 4px;font-size: 12px;color:#000;\">充值金额（可手动点击退款）</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"list\">\r\n\t\t\t\t\t<view v-for=\"(item, index) in list\" :key=\"item.id\" class=\"item\"\r\n\t\t\t\t\t\t:class=\"{ 'active': clickIndex == index }\" @click=\" showPromotionInfo(item, index)\">\r\n\t\t\t\t\t\t{{ item.name }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"row\">\r\n\t\t\t\t\t<input class=\"input\" type=\"number\" placeholder=\"自定义价格\" maxlength=\"5\"\r\n\t\t\t\t\t\tv-model=\"rechargeParameters.quantity\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"gift-box\" v-show=\"preferential && preferential.giftAmount > 0\">\r\n\t\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t\t<view>充{{ preferential.totalAmount }}元送{{ preferential.giftAmount }}元</view>\r\n\t\t\t\t\t\t<view>满{{ preferential.totalAmount }}元可用</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"image\">\r\n\t\t\t\t\t\t<image src=\"../../static/img/hb-bg.png\" />\r\n\t\t\t\t\t\t<view class=\"number\">{{ preferential.giftAmount }}<span>元</span></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"row\">\r\n\t\t\t\t\t<button class=\"btn\" v-on:click=\"cz()\" :disabled=\"!rechargeParameters.quantity\">立即充值</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<u-toast ref=\"uToast\"></u-toast>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport app from '@/static/js/app.js';\r\nimport { getOpenId, getPhone, getInfo } from '@/static/js/url/phone.js';\r\nimport { getUserInfo } from '@/static/js/url/wode.js';\r\nimport { getUserQueryAccountBalance } from '@/static/js/url/wode.js';\r\nimport { refundRechargeRecord } from '@/static/js/url/vacancy.js';\r\nimport { rechargeRecordSave, rechargeRecordWxpay, getPromotionByAmout } from '@/static/js/url/chognzhi.js';\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ttoDecimal2: app.toDecimal2,\r\n\t\t\ttype: 1,\r\n\t\t\taccountAmount: 0.00,//账户余额\r\n\t\t\tcardAmount: 0.00,//卡余额\r\n\t\t\tgiftAmount: 0,//优惠金额\r\n\t\t\tname: \"\",//优惠标题\r\n\t\t\ttotalAmount: 0,//充值金额\r\n\t\t\tcardNo: '',\r\n\t\t\topenId: '',\r\n\t\t\tuserData: {},\r\n\t\t\tisBack: false,\r\n\t\t\t//====\r\n\t\t\trechargeParameters: {\r\n\t\t\t\tquantity: 0,\r\n\t\t\t\tcardNo: '',\r\n\t\t\t\topenId: '',\r\n\t\t\t},\r\n\t\t\tclickIndex: -1,\r\n\t\t\tlist: [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 1,\r\n\t\t\t\t\tname: '10元',\r\n\t\t\t\t\tnumber: 10,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 2,\r\n\t\t\t\t\tname: '20元',\r\n\t\t\t\t\tnumber: 20,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 3,\r\n\t\t\t\t\tname: '50元',\r\n\t\t\t\t\tnumber: 50,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4,\r\n\t\t\t\t\tname: '100元',\r\n\t\t\t\t\tnumber: 100,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 5,\r\n\t\t\t\t\tname: '200元',\r\n\t\t\t\t\tnumber: 200,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 6,\r\n\t\t\t\t\tname: '500元',\r\n\t\t\t\t\tnumber: 500,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tpreferential: null\r\n\t\t}\r\n\t},\r\n\tonLoad(option) {\r\n\t\tconsole.log('option::: ', option);\r\n\t\tif (option.isBack == \"true\") {\r\n\t\t\tthis.isBack = true\r\n\t\t}\r\n\t\tif (!uni.getStorageSync(\"token\")) {\r\n\t\t\tthis.doAppLogin()\r\n\t\t}\r\n\t\tthis.openId = uni.getStorageSync(\"openid\");\r\n\t\tthis.getUserInfos(this.openId)\r\n\t\tthis.rechargeParameters.openId = uni.getStorageSync(\"openid\");\r\n\t},\r\n\tonShow() {\r\n\t\tthis.getUserQueryAccountBalances();\r\n\t},\r\n\tmethods: {\r\n\t\trefund() {\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '提示',\r\n\t\t\t\tcontent: '确认账户余额退款(若存在使用奖励金额将优先扣除)？',\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\trefundRechargeRecord({ openId: this.openId }).then(res => {\r\n\t\t\t\t\t\t\tif (res.code === 0) {\r\n\t\t\t\t\t\t\t\t// uni.showToast({\r\n\t\t\t\t\t\t\t\t// \ttitle: \"余额退款成功\",\r\n\t\t\t\t\t\t\t\t// \ticon: 'none',\r\n\t\t\t\t\t\t\t\t// \tduration: 6000,\r\n\t\t\t\t\t\t\t\t// })\r\n\t\t\t\t\t\t\t\tthis.$refs.uToast.show({\r\n\t\t\t\t\t\t\t\t\ttype: 'default',\r\n\t\t\t\t\t\t\t\t\tmessage: \"余额退款成功\",\r\n\t\t\t\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tthis.getUserQueryAccountBalances();\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tdoAppLogin() {\r\n\t\t\tlet that = this;\r\n\t\t\tuni.login({\r\n\t\t\t\t\"provider\": \"weixin\",\r\n\t\t\t\t\"onlyAuthorize\": true, // 微信登录仅请求授权认证\r\n\t\t\t\tsuccess: function (event) {\r\n\t\t\t\t\tconst { code } = event\r\n\t\t\t\t\t// this.code = code;\r\n\t\t\t\t\t//客户端成功获取授权临时票据（code）,向业务服务器发起登录请求。\r\n\t\t\t\t\tgetOpenId({ code }).then(res => {\r\n\t\t\t\t\t\tthat.openId = res.data.openid;\r\n\t\t\t\t\t\tuni.setStorageSync(\"openid\", res.data.openId);\r\n\t\t\t\t\t\tuni.setStorageSync(\"token\", res.data.token);\r\n\t\t\t\t\t\tthat.getUserInfos(res.data.openId)\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\t\tfail: function (err) {\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t// 获取用户信息\r\n\t\tgetUserInfos(openId) {\r\n\t\t\tif (!openId) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tgetUserInfo({ openId }).then(res => {\r\n\t\t\t\tif (res.code === 0) {\r\n\t\t\t\t\tuni.setStorageSync(\"userData\", res.data);\r\n\t\t\t\t\tthis.userData = res.data\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t/**\r\n\t\t * 获取优惠\r\n\t\t */\r\n\t\tshowPromotionInfo(item, index) {\r\n\t\t\tif (this.clickIndex == index) {\r\n\t\t\t\tthis.clickIndex = -1;\r\n\t\t\t\tthis.rechargeParameters.quantity = 0;\r\n\t\t\t\tthis.preferential = null\r\n\t\t\t} else {\r\n\t\t\t\tthis.clickIndex = index;\r\n\t\t\t\tthis.rechargeParameters.quantity = item.number;\r\n\t\t\t\tgetPromotionByAmout({ totalAmount: item.number, openId: this.openId }).then(res => {\r\n\t\t\t\t\tif (res.code === 0) {\r\n\t\t\t\t\t\tthis.preferential = res.data;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\t// 查询账户余额\r\n\t\tgetUserQueryAccountBalances() {\r\n\t\t\tgetUserQueryAccountBalance({ openId: this.openId }).then(res => {\r\n\t\t\t\tif (res.code === 0) {\r\n\t\t\t\t\tthis.accountAmount = res.data.accountAmount;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t// 支付\r\n\t\trechargeRecordSaves() {\r\n\t\t\trechargeRecordSave(this.rechargeParameters).then(res => {\r\n\t\t\t\tif (res.code === 0) {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\trechargeRecordWxpay({ id: res.data.id }).then(res_1 => {\r\n\t\t\t\t\t\tif (res_1.code === 0) {\r\n\t\t\t\t\t\t\tlet that = this;\r\n\t\t\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\t\t\tprovider: 'wxpay',    //支付类型-固定值\r\n\t\t\t\t\t\t\t\ttimeStamp: res_1.data.timeStamp, // 时间戳（单位：秒）\r\n\t\t\t\t\t\t\t\tnonceStr: res_1.data.nonceStr, // 随机字符串\r\n\t\t\t\t\t\t\t\tpackage: res_1.data.package, // 固定值\r\n\t\t\t\t\t\t\t\tsignType: res_1.data.signType, //固定值\r\n\t\t\t\t\t\t\t\tpaySign: res_1.data.paySign, //签名\r\n\r\n\t\t\t\t\t\t\t\tsuccess(res_2) {\r\n\t\t\t\t\t\t\t\t\t// uni.showToast({\r\n\t\t\t\t\t\t\t\t\t// \ticon: 'success',\r\n\t\t\t\t\t\t\t\t\t// \ttitle: '支付成功'\r\n\t\t\t\t\t\t\t\t\t// })\r\n\t\t\t\t\t\t\t\t\tthat.$refs.uToast.show({\r\n\t\t\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\t\t\tmessage: \"支付成功\",\r\n\t\t\t\t\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\tif (that.isBack) {\r\n\t\t\t\t\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t\t\t\t\t\tdelta: 1\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tthat.getUserQueryAccountBalances();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t// that.getUserQueryAccountBalances();\r\n\t\t\t\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t\t\t\t// uni.showToast({\r\n\t\t\t\t\t\t\t\t\t// \ticon: 'none',\r\n\t\t\t\t\t\t\t\t\t// \ttitle: '支付失败'\r\n\t\t\t\t\t\t\t\t\t// })\r\n\r\n\t\t\t\t\t\t\t\t\tthis.$refs.uToast.show({\r\n\t\t\t\t\t\t\t\t\t\ttype: 'default',\r\n\t\t\t\t\t\t\t\t\t\tmessage: \"支付失败\",\r\n\t\t\t\t\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\tthat.getUserQueryAccountBalances();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tcz() {\r\n\t\t\tif (!this.rechargeParameters.quantity || isNaN(this.rechargeParameters.quantity)) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\ttitle: '请填写充值金额'\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (this.type != 2) {\r\n\t\t\t\tthis.rechargeParameters.cardNo = '';\r\n\t\t\t}\r\n\t\t\tif (this.type == 2 && !this.rechargeParameters.cardNo) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\ttitle: '请填写充值卡号'\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet str = ''\r\n\t\t\tif (this.preferential && this.preferential.giftAmount > 0) {\r\n\t\t\t\tstr = '充' + this.preferential.totalAmount + '元送' + this.preferential.giftAmount + '元，'\r\n\t\t\t}\r\n\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '提示',\r\n\t\t\t\tcontent: '确认充值' + this.rechargeParameters.quantity + '元吗？' + str + '充值余额可在账户余额中点击“退款”，进行退款。',\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\ttitle: '拉起支付中...'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.rechargeRecordSaves();\r\n\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t},\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\npage {\r\n\tbackground: #f5f6f7;\r\n}\r\n\r\n.tab {\r\n\tdisplay: flex;\r\n\theight: 48px;\r\n\twidth: 100%;\r\n\tbackground-color: #0F2346;\r\n\ttext-align: center;\r\n\tfont-size: 14px;\r\n\tline-height: 48px;\r\n\tcolor: #fff;\r\n\tposition: relative;\r\n\r\n\t.item {\r\n\t\twidth: 50%;\r\n\t\ttext-align: center;\r\n\t\tcolor: #494949;\r\n\t\tbackground: #f5f6f7;\r\n\t}\r\n\r\n\r\n\r\n\r\n\t.tab_line {\r\n\t\twidth: 100%;\r\n\t\theight: 8rpx;\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\r\n\t\tview {\r\n\t\t\twidth: 50%;\r\n\t\t\theight: 100%;\r\n\t\t\tdisplay: grid;\r\n\t\t\tplace-items: center;\r\n\t\t\ttransition: all 0.2s ease-in;\r\n\t\t\ttransform: translateX(var(--active-tab));\r\n\r\n\t\t\t&::after {\r\n\t\t\t\tcontent: \"\";\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\twidth: 104rpx;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tbackground: #5997FE;\r\n\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.avtive {\r\n\t\tcolor: #1275d8;\r\n\t}\r\n}\r\n\r\n\r\n.invest-box {\r\n\theight: 192rpx;\r\n\tbackground-size: 100% 100%;\r\n\tbackground-repeat: no-repeat;\r\n\tposition: relative;\r\n\tpadding: 0 32rpx;\r\n\tbox-sizing: border-box;\r\n\tmargin: 32rpx 0;\r\n\tdisplay: grid;\r\n\tplace-content: center;\r\n\r\n\t.refund {\r\n\t\tmargin-left: 20rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-family: PingFang-SC, PingFang-SC;\r\n\t\tfont-weight: 400;\r\n\t\tcolor: #d29c78;\r\n\t\tborder-radius: 20rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.image {\r\n\t\tposition: absolute;\r\n\t\tz-index: -1;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t\tpadding: 0 32rpx;\r\n\t\tbox-sizing: border-box;\r\n\r\n\t\timage {\r\n\t\t\theight: 100%;\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\t}\r\n\r\n\t.residue-title {\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-family: PingFangSC, PingFang SC;\r\n\t\tfont-weight: 400;\r\n\t\tcolor: #FFFFFF;\r\n\t}\r\n\r\n\t.residue-res {\r\n\t\tfont-size: 56rpx;\r\n\t\tfont-family: PingFangSC, PingFang SC;\r\n\t\tfont-weight: 500;\r\n\t\tcolor: #FFFFFF;\r\n\t\ttext-align: center;\r\n\t}\r\n}\r\n\r\n.top_up_cards {\r\n\tpadding: 0 32rpx;\r\n}\r\n\r\n.residue-box {\r\n\twidth: 100%;\r\n\theight: 50px;\r\n\ttext-align: center;\r\n\tmargin: 32px 0;\r\n}\r\n\r\n\r\n\r\n.input {\r\n\tcolor: #000;\r\n\twidth: 100%;\r\n\tbackground: #ffffff;\r\n\theight: 40px;\r\n\tmargin: 32rpx 0;\r\n\tborder-radius: 16rpx;\r\n\tborder: 2rpx solid #5997FE;\r\n\tpadding-left: 16rpx;\r\n}\r\n\r\n.btn {\r\n\twidth: 686rpx;\r\n\theight: 104rpx;\r\n\tbackground: #5997FE;\r\n\tborder-radius: 52rpx;\r\n\tfont-size: 28rpx;\r\n\tfont-family: PingFangSC, PingFang SC;\r\n\tfont-weight: 400;\r\n\tcolor: #FFFFFF;\r\n\tdisplay: grid;\r\n\tplace-content: center;\r\n}\r\n\r\nbutton[disabled]:not([type]) {\r\n\tbackground-color: #5997fe75;\r\n\tcolor: rgba(0, 0, 0, .3);\r\n}\r\n\r\n.box-2 {\r\n\tpadding: 0 32rpx 32rpx;\r\n\tbox-sizing: border-box;\r\n\r\n\t.title-box {\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-family: PingFangSC, PingFang SC;\r\n\t\tfont-weight: 400;\r\n\t\tmargin-bottom: 16rpx;\r\n\t}\r\n\r\n\t.list {\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: repeat(3, 1fr);\r\n\t\tgap: 24rpx 32rpx;\r\n\t\tbackground: #FFFFFF;\r\n\t\tpadding: 32rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tborder-radius: 16rpx;\r\n\r\n\t\t.item {\r\n\t\t\tborder-radius: 16rpx;\r\n\t\t\tborder: 2rpx solid #5997FE;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tfont-family: PingFangSC, PingFang SC;\r\n\t\t\tfont-weight: 400;\r\n\t\t\tcolor: #5997FE;\r\n\t\t\theight: 120rpx;\r\n\t\t\tdisplay: grid;\r\n\t\t\tplace-content: center;\r\n\t\t}\r\n\r\n\t\t.active {\r\n\t\t\tbackground: #5997FE;\r\n\t\t\tcolor: #FFFFFF;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n}\r\n\r\n\r\n.gift-box {\r\n\tbackground: #FFFFFF;\r\n\tborder-radius: 16rpx;\r\n\theight: 176rpx;\r\n\tpadding: 32rpx 32rpx 0;\r\n\tbox-sizing: border-box;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tmargin-bottom: 32rpx;\r\n\r\n\t.left {\r\n\t\tview:nth-child(1) {\r\n\t\t\tfont-size: 40rpx;\r\n\t\t\tfont-family: PingFangSC, PingFang SC;\r\n\t\t\tfont-weight: 500;\r\n\t\t\tmargin-bottom: 14rpx;\r\n\r\n\t\t\tspan {\r\n\t\t\t\tcolor: red;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tview:nth-child(2) {\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tfont-family: PingFangSC, PingFang SC;\r\n\t\t\tfont-weight: 400;\r\n\t\t\tcolor: rgba(0, 0, 0, 0.42);\r\n\t\t}\r\n\t}\r\n\r\n\t.image {\r\n\t\twidth: 285rpx;\r\n\t\theight: 144rpx;\r\n\t\tposition: relative;\r\n\r\n\t\timage {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t}\r\n\r\n\t\t.number {\r\n\t\t\tposition: absolute;\r\n\t\t\twidth: 100%;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t\theight: 78rpx;\r\n\t\t\tfont-size: 40rpx;\r\n\t\t\tcolor: #FC0052;\r\n\t\t\tfont-weight: 500;\r\n\t\t\tvertical-align: sub;\r\n\r\n\t\t\tspan {\r\n\t\t\t\tfont-size: 25rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n.total {\r\n\tfont-size: 14px;\r\n\tcolor: #666666;\r\n}\r\n\r\n.uni-input-input:focus {\r\n\tborder: 1px solid #1ec5f1;\r\n}\r\n\r\n::v-deep .u-popup__content {\r\n\tbackground-color: #041747 !important;\r\n\r\n\t.u-modal__button-group__wrapper__text {\r\n\t\tcolor: #6D7AB0 !important;\r\n\t}\r\n\r\n\t.u-line {\r\n\t\tborder-color: #192E62 !important;\r\n\t}\r\n\r\n\t.u-modal__button-group__wrapper--hover {\r\n\t\tbackground-color: transparent !important;\r\n\t}\r\n}\r\n\r\n.modalText {\r\n\tcolor: #C8D1F4 !important;\r\n\ttext-align: center;\r\n\tmargin: 20rpx;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chognzhi.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chognzhi.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1722223634470\n      var cssReload = require(\"D:/soft/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}